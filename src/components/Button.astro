---
import { baseStyles, variantStyles, sizeStyles } from './button-styles';
import type { ButtonVariant, ButtonSize } from './button-styles';

interface Props {
  /** Visual style */
  variant?: ButtonVariant;

  /** Size preset */
  size?: ButtonSize;

  /** Stretch to container width */
  fullWidth?: boolean;

  /** Button type */
  type?: 'button' | 'submit' | 'reset';

  /** Disabled state */
  disabled?: boolean;
}

const {
  variant = 'primary',
  size = 'large',
  fullWidth = false,
  type = 'button',
  disabled = false,
} = Astro.props;

const widthStyle = fullWidth ? 'w-full' : '';
const disabledStyle = disabled ? 'opacity-50 cursor-not-allowed' : '';

const combinedStyles = [
  baseStyles,
  variantStyles[variant],
  sizeStyles[size],
  widthStyle,
  disabledStyle,
]
  .filter(Boolean)
  .join(' ');
---

<button type={type} class={combinedStyles} disabled={disabled}>
  <slot />
</button>
